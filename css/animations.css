/* ===================================
   ANIMATIONS
   =================================== */

/* ===========================
   FADE & SLIDE ANIMATIONS
   =========================== */

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

@keyframes slideInX {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideInLeft {
    from {
        transform: translateX(20px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* ===========================
   CHEST ANIMATIONS
   =========================== */

@keyframes chestShake {
    0%, 100% { transform: rotate(0deg); }
    10%, 30%, 50%, 70%, 90% { transform: rotate(-10deg); }
    20%, 40%, 60%, 80% { transform: rotate(10deg); }
}

@keyframes chestGlow {
    0%, 100% {
        filter: drop-shadow(0 0 20px currentColor);
        transform: scale(1);
    }
    50% {
        filter: drop-shadow(0 0 50px currentColor);
        transform: scale(1.1);
    }
}

@keyframes rewardFadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes rarityPulse {
    0%, 100% { box-shadow: 0 0 10px currentColor; }
    50% { box-shadow: 0 0 30px currentColor, 0 0 50px currentColor; }
}

.chest-shake {
    animation: chestShake 0.5s ease-in-out;
}

/* ===========================
   CRAFTING ANIMATIONS
   =========================== */

@keyframes pulseGlow {
    0% { box-shadow: 0 0 10px rgba(255, 255, 255, 0.2); }
    50% { box-shadow: 0 0 30px rgba(255, 255, 255, 0.5); }
    100% { box-shadow: 0 0 10px rgba(255, 255, 255, 0.2); }
}

@keyframes revealShake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

@keyframes scaleUpReveal {
    0% {
        transform: scale(0.5);
        opacity: 0;
    }
    70% {
        transform: scale(1.1);
        opacity: 1;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* ===========================
   ENCHANTING ANIMATIONS
   =========================== */

@keyframes enchantSuccess {
    0% {
        transform: scale(1);
        filter: brightness(1);
    }
    50% {
        transform: scale(1.2);
        filter: brightness(2) drop-shadow(0 0 20px var(--accent-gold-bright));
    }
    100% {
        transform: scale(1);
        filter: brightness(1);
    }
}

@keyframes enchantFail {
    0% {
        transform: translateX(0);
        filter: grayscale(0);
    }
    20%, 60% { transform: translateX(-10px); }
    40%, 80% { transform: translateX(10px); }
    100% {
        transform: translateX(0);
        filter: grayscale(0.8) drop-shadow(0 0 10px red);
    }
}

@keyframes enchantDestroy {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.5) rotate(15deg);
        filter: contrast(2) hue-rotate(90deg);
        opacity: 0.8;
    }
    100% {
        transform: scale(0);
        opacity: 0;
    }
}

@keyframes enchantRotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes enchantFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

.anim-enchant-success {
    animation: enchantSuccess 1.5s ease;
}

.anim-enchant-fail {
    animation: enchantFail 1s ease;
}

.anim-enchant-destroy {
    animation: enchantDestroy 1.5s ease forwards;
}

/* ===========================
   DAMAGE & COMBAT ANIMATIONS
   =========================== */

@keyframes floatUp {
    from {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
    to {
        transform: translateY(-70px) scale(1.3);
        opacity: 0;
    }
}

@keyframes screenShake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-6px); }
    40% { transform: translateX(6px); }
    60% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
}

@keyframes redEdgeFlash {
    0% { opacity: 0; }
    30% { opacity: 0.55; }
    100% { opacity: 0; }
}

@keyframes screenFlash {
    0% { opacity: 0; }
    30% { opacity: 0.4; }
    100% { opacity: 0; }
}

@keyframes heroHitFlash {
    0%, 100% { filter: none; }
    30% { filter: brightness(2.5) saturate(0) sepia(1) hue-rotate(300deg); }
    60% { filter: brightness(1.5); }
}

@keyframes enemyLunge {
    0% {
        transform: scale(1) translateX(0);
    }
    40% {
        transform: scale(1.25) translateX(28px);
    }
    100% {
        transform: scale(1) translateX(0);
    }
}

@keyframes shieldAura {
    0%, 100% { box-shadow: 0 0 0 transparent; }
    50% { box-shadow: 0 0 22px 8px rgba(0, 150, 255, 0.55); }
}

/* ===========================
   TURN-BASED BATTLE ANIMATIONS
   =========================== */

@keyframes turnSlideIn {
    from {
        opacity: 0;
        transform: translateX(-50%) scale(0.5);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) scale(1);
    }
}

@keyframes turnSlideOut {
    from {
        opacity: 1;
        transform: translateX(-50%) scale(1);
    }
    to {
        opacity: 0;
        transform: translateX(-50%) scale(1.4);
    }
}

.turn-indicator-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: var(--font-display);
    font-size: 1.6rem;
    font-weight: 800;
    padding: 12px 35px;
    border-radius: 10px;
    z-index: 100;
    pointer-events: none;
    animation: turnSlideIn 0.3s ease-out forwards;
    white-space: nowrap;
}

.turn-indicator-overlay.player {
    color: #fff;
    background: rgba(0, 180, 70, 0.9);
    border: 2px solid var(--accent-success);
    text-shadow: 0 0 10px rgba(0, 255, 136, 0.8);
    box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
}

.turn-indicator-overlay.enemy {
    color: #fff;
    background: rgba(180, 0, 0, 0.9);
    border: 2px solid var(--accent-danger);
    text-shadow: 0 0 10px rgba(255, 68, 68, 0.8);
    box-shadow: 0 0 30px rgba(255, 68, 68, 0.5);
}

.turn-indicator-overlay.fade-out {
    animation: turnSlideOut 0.3s ease-in forwards;
}

.hero-hit-flash {
    animation: heroHitFlash 0.45s ease-out;
}

.enemy-lunge {
    animation: enemyLunge 0.5s ease-in-out;
}

.defending-aura {
    animation: shieldAura 1s ease-in-out infinite;
    border: 2px solid #00ccff !important;
    background: rgba(0, 100, 255, 0.1) !important;
}

/* ===========================
   PULSE ANIMATIONS
   =========================== */

@keyframes arrowPulse {
    0%, 100% {
        transform: translateX(0);
        opacity: 1;
    }
    50% {
        transform: translateX(5px);
        opacity: 0.7;
    }
}

@keyframes fabPulse {
    0%, 100% {
        box-shadow: 0 4px 20px rgba(212, 160, 23, 0.5), 0 0 30px rgba(212, 160, 23, 0.3);
    }
    50% {
        box-shadow: 0 4px 25px rgba(212, 160, 23, 0.7), 0 0 45px rgba(212, 160, 23, 0.5);
    }
}

@keyframes devPulse {
    0%, 100% {
        box-shadow: 0 4px 20px rgba(255, 0, 0, 0.5), 0 0 15px rgba(255, 0, 0, 0.3);
    }
    50% {
        box-shadow: 0 4px 30px rgba(255, 0, 0, 0.8), 0 0 25px rgba(255, 0, 0, 0.5);
    }
}

@keyframes vsPulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 30px rgba(212, 160, 23, 0.5);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 0 50px rgba(212, 160, 23, 0.8);
    }
}

@keyframes abilityGlow {
    0%, 100% {
        filter: drop-shadow(0 0 10px rgba(255, 170, 0, 0.6));
    }
    50% {
        filter: drop-shadow(0 0 20px rgba(255, 170, 0, 1));
    }
}
